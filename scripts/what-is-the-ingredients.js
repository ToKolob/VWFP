
let menu = [
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Regular Solo Meal",
  //   "Ingredients": "Any 9.5\" pizza from the menu, garlic bread or house fries",
  //   "Price": "€17.80"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Large Solo Meal",
  //   "Ingredients": "Any 13.5\" pizza from the menu, garlic bread or house fries",
  //   "Price": "€22.70"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Regular Double Trouble",
  //   "Ingredients": "Any 2 x 9.5\" pizzas from the menu",
  //   "Price": "€27.55"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Large Double Trouble",
  //   "Ingredients": "Any 2 x 13.5\" pizzas from the menu",
  //   "Price": "€36.20"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Sidechick Combo",
  //   "Ingredients": "1 x Large pizza + 1 x Side Chick",
  //   "Price": "€24.85"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Loaded Combo",
  //   "Ingredients": "1 x Large pizza + 1 x Loaded Side",
  //   "Price": "€24.85"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Quiet Night In",
  //   "Ingredients": "1 x Large pizza, 1 x Regular Side & 1 x Side of your choice",
  //   "Price": "€30.25"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Shake & Bake",
  //   "Ingredients": "1 x Large pizza, 1 x Side & 2 x Milkshakes",
  //   "Price": "€33.50"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Three Amigos",
  //   "Ingredients": "1 x Large pizza, 1 x Regular pizza, 1 x Regular Side & 1 x Side of your choice",
  //   "Price": "€42.65"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Feed Four",
  //   "Ingredients": "2 x Large pizzas + 2 x Regular Sides",
  //   "Price": "€43.20"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Family Feast",
  //   "Ingredients": "2 x Large pizzas, 1 x Loaded Side & 1 x Side Chick",
  //   "Price": "€48.60"
  // },
  // {
  //   "Category": "Meal Deals",
  //   "Name": "Party Time",
  //   "Ingredients": "4 x Large pizzas + 4 x Sides of your choice",
  //   "Price": "€81.00"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Hot Puck",
  //   "Ingredients": "Goat's cheese, wood roasted red onion, walnut, honey, mozzarella, Nduja, rocket, fresh chilli's, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Margherita",
  //   "Ingredients": "Mozzarella, tomato sauce",
  //   "Price": "€17.80"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Quattro Formaggio",
  //   "Ingredients": "Extra virgin olive oil and fresh garlic brushed base, mozzarella, gorgonzola, taleggio, parmesan",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Diavola",
  //   "Ingredients": "Pepperoni, chorizo, jalapeno, fresh chilli, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Double Pepperoni",
  //   "Ingredients": "Pepperoni x2, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Bianca",
  //   "Ingredients": "Extra virgin olive oil and fresh garlic brushed base, mozzarella, prosciutto, cherry tomato, shaved parmesan, rocket",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Puck Fair",
  //   "Ingredients": "Goat's cheese, wood roasted red onion, walnut, honey, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Vegan Pizza",
  //   "Ingredients": "Marinated artichoke, baby spinach, sun dried tomato, walnuts, wood roasted aubergines & red onion, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Capricciosa",
  //   "Ingredients": "Baked ham, marinated artichoke, mushroom, black olive, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Picante",
  //   "Ingredients": "Italian salami, fresh chilli, honey, smoked scamorza, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Funghi",
  //   "Ingredients": "Mushrooms, cotto ham, tomato sauce, mozzarella",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Vegetarian",
  //   "Ingredients": "Fresh baby spinach, mixed fire grilled peppers, goat's cheese, sun dried tomato, mozzarella, garlic, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Pollo",
  //   "Ingredients": "Smoked chicken, goat's cheese, sun dried tomato, mozzarella, tomato sauce and a drizzle of pesto",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Isabella",
  //   "Ingredients": "Prosciutto, wood roasted aubergine, mushroom, mozzarella, rocket, tomato sauce, parmesan",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Meat Eater",
  //   "Ingredients": "Cotto ham, pancetta, meatballs, smoked chicken, pepperoni, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "BBQ Carnivore",
  //   "Ingredients": "Sticky BBQ sauce, smoked chicken, pancetta, pepperoni, wood roasted red onion, mozzarella",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Tropicana",
  //   "Ingredients": "Cotto ham, pineapple, sweetcorn, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Pizza Pie",
  //   "Ingredients": "Smoked chicken, pancetta, garlic base, mushroom, mozzarella, taleggio",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Americana",
  //   "Ingredients": "Spicy chicken, pepperoni, mozzarella, tomato sauce, pineapple, sweetcorn",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Olivia",
  //   "Ingredients": "Chorizo, tomato sauce, mozzarella, spinach, black olive",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "CYO",
  //   "Ingredients": "Your choice of tomato, garlic oil or barbecue sauce, topped with mozzarella cheese and three further toppings of your choice",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Honey Bee",
  //   "Ingredients": "Nduja, fresh chili, honey, mozzarella, tomato sauce, basil",
  //   "Price": "€20.00"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Mexicano",
  //   "Ingredients": "Spicy chicken, chorizo, mixed fire grilled peppers, sweetcorn, jalapeño, mozzarella, tomato sauce",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Half and Half Pizza",
  //   "Ingredients": "Create your own half & half pizza from our set pizzas",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Pizza",
  //   "Name": "Half and Half CYO Pizza",
  //   "Ingredients": "Create your own half & half pizza",
  //   "Price": "€21.05"
  // },
  // {
  //   "Category": "Regular Sides",
  //   "Name": "Garlic Pizza Bread",
  //   "Ingredients": "Flatbread with olive oil, fresh garlic, mozzarella, oregano",
  //   "Price": "€6.50"
  // },
  // {
  //   "Category": "Regular Sides",
  //   "Name": "House Fries",
  //   "Ingredients": "Crispy skin-on chips with garlic dip",
  //   "Price": "€4.85"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Vincenzo's Focaccia",
  //   "Ingredients": "Flatbread, olive oil, garlic, black olives, goat's cheese, red onion, sun dried tomato, pesto",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Posh Fries",
  //   "Ingredients": "House fries, parmesan-ranch dressing, crispy pancetta",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Hot Chick Fries",
  //   "Ingredients": "Chicken goujons, hot sauce, jalapenos, skin-on chips",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Buffalo Ranch Fries",
  //   "Ingredients": "Chicken goujons, ranch dressing, hot sauce, skin-on chips",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Amazeballs Fries",
  //   "Ingredients": "Italian meatballs, marinara sauce, house fries, parmesan",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Hellfire Bread",
  //   "Ingredients": "Nduja, fresh chili, parmesan garlic bread",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Loaded Sides",
  //   "Name": "Nino Bread",
  //   "Ingredients": "Pancetta, mushroom garlic bread",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Side Chicks",
  //   "Name": "Sticky BBQ Buffalo Wings",
  //   "Ingredients": "8 chicken wings with garlic dip",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Side Chicks",
  //   "Name": "Hot N Spicy Buffalo Wings",
  //   "Ingredients": "9 chicken wings with blue cheese dip",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Side Chicks",
  //   "Name": "Crispy Goujons",
  //   "Ingredients": "6 chicken fillets with garlic dip",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Side Chicks",
  //   "Name": "Dirty Goujons",
  //   "Ingredients": "6 chicken fillets with jalapeños and hot sauce",
  //   "Price": "€8.65"
  // },
  // {
  //   "Category": "Side Chicks",
  //   "Name": "Woodfired Meatballs (Not Chicks)",
  //   "Ingredients": "Meatballs, marinara sauce, parmesan",
  //   "Price": "€8.65"
  // }
];

function shuffleArray(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
}

function loadQuestion() {
  const questionEl = document.getElementById("question");
  const answersEl = document.getElementById("answers");
  answersEl.innerHTML = "";

  const correctIndex = Math.floor(Math.random() * menu.length);
  const correctItem = menu[correctIndex];
  questionEl.textContent = `What are the ingredients of: ${correctItem.Name}?`;

  const answerOptions = [correctItem.Ingredients];
  while (answerOptions.length < 5) {
    const random = menu[Math.floor(Math.random() * menu.length)];
    if (!answerOptions.includes(random.Ingredients)) {
      answerOptions.push(random.Ingredients);
    }
  }

  shuffleArray(answerOptions);

  answerOptions.forEach((option) => {
    const li = document.createElement("li");
    li.textContent = option;
    li.addEventListener("click", () => {
      if (option === correctItem.Ingredients) {
        li.classList.add("correct");
      } else {
        li.classList.add("incorrect");
      }

      setTimeout(loadQuestion, 2000);
    });
    answersEl.appendChild(li);
  });
}

// Load the game after menu data is inserted
document.addEventListener("DOMContentLoaded", () => {
  fetch('../data.json') // Fetch the JSON data
    .then(res => res.json())
    .then(data => {
      menu = data; // Populate the menu array
      loadQuestion(); // Call loadQuestion only after menu is populated
    })
    .catch(err => console.error("Failed to load menu data:", err)); // Handle fetch errors
});